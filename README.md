## REACH Pipeline FTP File processing 

The Docker image processes new papers and inserts the evidences to the iHOP Reach database.

### Requirements
You will have to mount the JAR file generated by [CLULAB/REACH](https://github.com/clulab/reach) to `/src/reach.jar`  
Also you will have to mount the output folder to `/src/reach`, this folder should have file `./output/restart.log`, this file will  prevent the NLP processor to process those files which have been done already.

### Instructions

#### Environment Variables
Following environment variables can be set to modify the program  
Variable | Default Value | Description
---|---|---
MEMORY_LIMIT | 12 | RAM limit for the REACH processor
MONGO_SRV | localhost | MongoDB SRV/IP
MONGO_PORT | 27017 | MongoDB Port
FILE_LIMIT | `None` | Ending file sequence as per the File name list
FILE_START | `None` | Starting file sequence as per the File name list, `None` indicates starting from 0

#### Files to be processed
| Sequence   | File Name        |
|------------|------------------|
| 0          | non_comm_use.A-B |
| 1          | non_comm_use.O-Z |
| 2          | non_comm_use.C-H |
| 3          | non_comm_use.I-N |
| 4          | comm_use.A-B     |
| 5          | comm_use.C-H     |
| 6          | comm_use.I-N     |
| 7          | comm_use.O-Z     |

#### Run Docker Container
```
docker rm -f reach-pipeline
docker run --name reach-pipeline \
-e MEMORY_LIMIT={Enter Maximum RAM usage limit} \
-v /PATH/TO/OUTPUT/FOLDER:/src/reach \
-v /PATH/TO/THE/GENERATED/FAT/FILE.jar:/src/reach.jar \
-t rchattopadhyay/pubmed-ftp-processor
```
